---
import Layout from '../../layouts/Layout.astro'
import VideoBlock from '../../components/Video.astro'
import demoWebm from '../../assets/videos/sample-video.webm?url'
import posterImage from '../../assets/images/placeholder.png?url'
import visibilityAutoplayScript from '../../assets/js/visibility-autoplay-video.ts?url'
---

<Layout title='Video Demo' description='Development showcase for visibility autoplay'>
	<section class='main-frame'>
		<h1>Video autoplay demo</h1>
		<p>These examples show visibility-triggered playback with muted looping videos.</p>

		<VideoBlock
			srcWebm={demoWebm}
			poster={posterImage}
			controls
			ariaLabel='Manual controls example'
			caption='Standard video block with controls for comparison.'
		/>

		<VideoBlock
			srcWebm={demoWebm}
			poster={posterImage}
			ariaLabel='Visibility-based autoplay video'
			caption='When at least 30% of this frame is visible it starts; dropping below 20% pauses it.'
			visibilityAutoplay={true}
		/>
	</section>
	<script type='module' src={visibilityAutoplayScript}></script>
</Layout>
